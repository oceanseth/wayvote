<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WayVote Settings</title>
</head>
<body>
  <div id="wayvote-modal-overlay" class="wayvote-modal-overlay">
    <div id="wayvote-modal" class="wayvote-modal">
      <div class="wayvote-modal-header">
        <div class="header-controls">
          <div class="toggle-container">
            <label class="toggle-switch">
              <input type="checkbox" id="enabledToggle" checked>
              <span class="slider"></span>
            </label>
            <span class="toggle-label">Enabled</span>
          </div>
          <div class="toggle-container">
            <label class="toggle-switch">
              <input type="checkbox" id="removePromotedToggle" checked>
              <span class="slider"></span>
            </label>
            <span class="toggle-label">Remove Promoted</span>
          </div>
        </div>
        <div class="logo">
          <h1>ðŸŽ¯ WayVote</h1>
          <p>Custom Reddit Rankings</p>
        </div>
        <button id="wayvote-close-btn" class="wayvote-close-btn" aria-label="Close">Ã—</button>
      </div>

      <div class="wayvote-modal-body">
        <section class="metrics-section">
          <h2>Ranking Metrics</h2>
          <p class="section-description">
            Configure weights to apply to users' votes (0-1000)
            Example 1: If IQ is weighted at 10, a user with 1 std dev higher IQ than avg will have 10 votes instead of 1.
            Example 2: If Has Children is weighted at 5, a user who self-reports as having children will have 5 votes instead of 1.
            If set to 0, the metric will have no influence on rankings.
          </p>
          
          <div class="metrics-container" id="metricsContainer">
            <!-- Metrics will be dynamically generated here -->
          </div>
          
          <button id="addMetricBtn" class="add-metric-btn">
            âž• Create New Metric
          </button>
        </section>

        <section class="actions-section">
          <button id="applyBtn" class="apply-btn">
            Apply Rankings
          </button>
          <button id="resetBtn" class="reset-btn">
            Reset to Defaults
          </button>
        </section>

        <section class="info-section">
          <h3>How it works</h3>
          <ul>
            <li>WayVote analyzes Reddit posts and ranks them based on your custom metrics</li>
            <li>Higher weights mean that metric has more influence on rankings</li>
            <li>Posts are reordered automatically as you browse</li>
            <li>Your votes are sent to the WayVote API for community ranking</li>
          </ul>
        </section>
      </div>

      <div class="wayvote-modal-footer">
        <p>Visit <a href="https://wayvote.org" target="_blank">wayvote.org</a> for more info</p>
      </div>
    </div>
  </div>
</body>
</html>
